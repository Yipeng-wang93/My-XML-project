<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chasing Maple - Attractions, Hotels, & Restaurants</title>
    <link rel="stylesheet" href="styles/attractions.css">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBd51RebPS8Rjf_fcHO3FyDSSEa6AF9vMY&callback=initMap" async defer></script>
</head>
<body>
    <header>
        <div class="navbar">
            <div class="logo">
                <a href="">Travel Explorer</a>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="des.html">Destinations & Weather</a></li>
                    <li><a href="reviews.html">Reviews</a></li>
                    <li><a href="itinerary.html">Itinerary Builder</a></li>
                    <li><a href="travelDeals.html">Travel Deals</a></li>
                    <li><a href="profile.html">Profile</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="attractions">
        <h2>Attractions, Hotels, & Restaurants</h2>
        <div class="search-section">
            <form action="">
                <label for="location">Enter Location:</label>
                <input type="text" id="location" name="location" placeholder="Enter city or area" required>
                <button type="button" onclick="fetchAttractions()">Search</button>
            </form>
        </div>
        <div id="attractions-results">
            <!-- Attraction, hotel, and restaurant data will be displayed here dynamically -->
        </div>
    </section>

    <section id="interactive-map">
        <h2>Interactive Map</h2>
        <div id="map-container"></div>
    </section>
    
    <footer>
        <p>Â© 2024 Chasing Maple. All rights reserved.</p>
    </footer>

    <script>
        let map;
        let geocoder;

        function initMap() {
            map = new google.maps.Map(document.getElementById('map-container'), {
                center: { lat: 37.4224428, lng: -122.0842467 },
                zoom: 10,
            });
            geocoder = new google.maps.Geocoder();
        }

        function fetchAttractions() {
            const address = document.getElementById("location").value;
            if (address) {
                geocoder.geocode({ address: address }, (results, status) => {
                    if (status === "OK") {
                        map.setCenter(results[0].geometry.location);
                        new google.maps.Marker({
                            map: map,
                            position: results[0].geometry.location,
                        });
                    } else {
                        alert("Geocode was not successful for the following reason: " + status);
                    }
                });
            } else {
                alert("Please enter a location.");
            }
        }
    </script>
</body>
</html>
